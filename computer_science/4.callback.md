
# 콜백
## 설명
- 다른 코드의 인수로서 넘겨주는 실행 가능한 코드이다.
- 콜백 수신 코드로 콜백 코드(함수)를 전달할 때 콜백 함수의 포인터(또는 핸들), 서브 루틴 또는 람다 함수의 형태로 넘겨준다.
- (동기 콜백) 콜백수신 코드는 콜백 코드를 필요한 경우 실행시킨다. 
- (비동기 콜백은) 콜백수신 코드는 넘겨 받은 콜백함수를 ‘핸들러’로 등록하고, 콜백 수신 함수의 동작 중 어떠한 반응의 일부로서 나중에 호출할 때 사용할 수도 있다.
- 이를 통해 제어의 역전을 만들 수 있다.	
    - 제어의 역전이란 코드의 특정 부분이 런타임 시스템에서 제어의 흐름을 되돌려 받는 방식이다.
    - 예시로, 콜백 함수가 데이터를 처리할 준비가 되면 런타임이 함수 처리기를 통해 애플리케이션을 다시 호출하거나 제어권을 돌려줍니다.
        - 의문
            - 함수 처리기?
            - 애플리케이션을 다시 호출한다는 맥락이 제대로 이해가 안됨.
- 콜백은 폴리모피즘과 제네릭 프로그래밍의 단순화된 대체 수법이다.
- 콜백 수신 함수의 정확한 동작은 콜백 함수에 의해서 바뀐다. 
- 콜백은 코드 재사용을 할 때 유용하다.

## 배경
- 연결 리스트 상의 각 요소에 대해서 여러 가지 처리를 수행하는 문제 시, 한 방법으로 리스트 상의 반복자(iterator)로 각 객체를 처리할 수 있다. 
    - 가장 일반적인 방법이지만, 이상적인 방법은 아니다.
    - 그 이유는 반복자를 제어하는 코드(for 문)는 리스트의 노드를 방문할 때마다 노드를 복제해야 한다. (복제의 의미는, 반복자가 원본을 참조하는 값을 주는 것이 아닌 Deep copy를 한다고 보임.)
    - 리스트의 갱신이 비동기 프로세스로 처리되는 경우, 반복자로 리스트를 탐색하는 동안에 요소를 잃어버리거나 다음 노드를 탐색할 수 없게 될 가능성이 있다. 
        - 의문
            - 뮤텍스 등 쓰면 안됨? 그러면 관리가 복잡해지려나…
    - 대체 방법으로 새롭게 라이브러리 함수를 만들어, 적당한 동기 신호(어떤 신호??)를 통해 필요한 처리를 하도록 한다. 이 경우에도 리스트를 탐색할 때마다 동일한 함수를 호출해야 한다.(많은 비용을 필요로 함) 이 방식은 여러 응용 프로그램에 쓰이는 범용 라이브러리에 적합하지 않다. 라이브러리를 개발할 때에는 모든 응용 프로그램의 요구를 예측할 필요가 없게 하며(범용성), 응용 프로그램 개발에서는 라이브러리에 추가된 기능에 대한 자세한 정보를 알 필요가 없도록 하는 것이 바람직하다. (*글이 전반적으로 잘 이해가 안됨* -> 결국, 코드 예시보고 이해됨.)
    - *결론으로 콜백은 이러한 문제를 해결 할 수 있음.* 프로그래머는 응용 프로그램이 각 요소를 처리하는 방법을 콜백 코드로 제공한다. 이런 식으로 유연성을 해치지 않고 명확하게 라이브러리와 응용 프로그램을 구별할 수 있다.
    - (정적 영역 방식의 언어인 c, c++) 콜백의 경우 이러한 인수를 변수 영역 외의 응용 프로그램 데이터 포인터에 이용한다.  (코드 예시를 반드시 같이 보면서 이해할 것!)
    - (동적 영역 방식의 언어인) 클로저를 이용하면 자동으로 응용 프로그램 데이터로 접근할 수 있다.
        - 의문
            - JS 기준으로 environment variable 때문에?


## 의문
- 제네릭 프로그래밍?
- 폴리모피즘?

## 참고
- (콜백 위키)
    - https://ko.wikipedia.org/wiki/%EC%BD%9C%EB%B0%B1
- (callback을 call after로 보는 관점)
    -  https://stackoverflow.com/questions/824234/what-is-a-callback-function/7549753#7549753