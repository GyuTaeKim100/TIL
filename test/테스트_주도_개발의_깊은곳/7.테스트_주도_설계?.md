# 테스트 주도 설계?
 - 테스트 주도 개발이 설계 방법론이란 주장을 하는 사람들이 있습니다.
 - 그들은 테스트 주도 설계라는 표현을 씁니다.
 - 실제로 테스트 주도 개발과 코드 설계가 어떤 영향을 미치는지 따져봅니다.

### TDD의 마지막D가 Design?으로 해석하는 프로그래머가 존재. 옳을까?

### 예시
1. 첫번째 클라이언트
  - 구조
    - 운영 코드
      -  인터페이스 부터 설계
      -  (레드 단계시) 내부 모듈 구현
      -  내부 모듈은 다른 모듈에 의해 사용되게 됨
    - 테스트
      - 운영 코드의 인터페이스만 구현된 상태에서 테스트 코드 구현 (레드 단계)
      - 내부 모듈 구현 완료 중에는 테스트 코드 유지


### 설계가 단위 테스트에 미치는 영향
  - 테스트는 인터페이스 설계에 의존
  - 인터페이스 설계 품질이 낮으면 테스트 작성이 불편함

### 단위 테스트가 설계에 미치는 영향
  - 테스트가 있기 때문에 리팩터링 가능
  - 두려움 없이, 값싼 비용으로 구현 설계를 과감하게 개선(유지보수 및 확장)

### 단위 테스트에 의지하는 인터페이스 설계
  - 단위 테스트는
    - 낮은 응집에 대한 피드백을 주지 않는다.
      - 협력해야 하는 코드가 뿔뿔히 파편화된 경우 인터페이스를 통한 테스트가 줄 수 있는 피드백은 없다.
    - 일관된 설계를 강요하지 않는다.
      - 클래스, 메소드, 변수 네이밍 시 하나의 용어로 통일 한다든지, 연관된 기능을 구현 시 파라미터의 순서 또는 중요도, 배치 등을 일관되게 요구하지 않음. 
    - 의도 노출을 요구하지 않는다.
      - 인터페이스 설계 당시의 의도를 요구하지는 않음. (프로그래머의 지식과 경험, 인터페이스 설계 시점에 의해 정의되는 요소)

### 단위 테스트에 의지하는 구현 설계 (위험!)
 - 단위 테스트는 책임 분산을 유도 하지 않는다.
   - 클래스 또는 모듈 분산에 대한 힌트를 주지 않는다
   - 순전히 리팩토링 시점에서 프로그래머가 판단하여 책임 분산
 - Mockists
   - 과도한 Mock 사용
   - 테스트 더블, Mock 시 테스트 코드량은 줄어들지만.. 테스트 작성하는 순간에 구현 욕구가 난다. 즉 운영 코드와 테스트 코드 간 결합이 높아질 수 밖에 없다. 
 - 비공개 운영 코드 테스트 
   - private 및 internal 등의 코드를 테스트하고 싶어진다.

 