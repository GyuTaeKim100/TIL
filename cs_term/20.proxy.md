
# 프록시

## 설명
- 서버와 클라이언트 사이의 중계기
- 중계 기능을 하는 것을 프록시 서버라고 한다.
- 일부 프록시 서버는, 요청을 캐시 처리한다.
    - 캐시를 통해 네트워크 병목 현상을 방지하는 데 효과적이다.
        - 전송 시간 절약
        - 외부 트래픽 감소
        - 불필요한 요청 감소

## 목적
- 익명으로 컴퓨터를 유지(보안)
- (과거의 주요 목적) 캐시를 통해, 효과적인 리소스 접근을 한다.
    - 흔히 웹 프록시는 서버로부터 웹 페이지를 캐시하는 용도로 사용된다.
    - 현재는 CDN이 역할을 대신한다.
- 네트워크 서비스나 콘텐츠로의 접근 정책을 적용하기 위해. 
    - 예시, 원치 않는 사이트를 차단
- 사용률을 기록하고 검사하기 위해서
    - 예시, 회사에서 인터넷 이용을 파악
- 보안 및 통제를 뚫고 나가기 위해서
    - 예시, 내부 정보 보안이 필요한 가수의 기업에서 프록시 서버를 통해서 외부망에 접속한다.
- 바이러스 전파, 악성 루머 전파, 다른 정보를 탈취
    - 추가적인 예시 필요
- IP 추적 피하기
    - 추가적인 예시 필요
- 전달에 앞서 악성 코드를 목적으로 전달된 콘텐츠를 검사
    - 추가적인 예시 필요
- 밖으로 나가는 콘텐츠르 검사
    - 예시, 데이터 유출 보호
- 지역 제한을 우회
    - VPN

## 과정
1. 누군가 웹 브라우저에 나무위키의 도메인을 입력.
2. 요청은 내부에서 캐시 역할을 하는 프록시 서버로 전달.
3. 프록시 서버는 우선 자신이 나무위키 홈페이지의 대문 페이지를 가지고 있는지 체크.
4. 가지고 있지 않다면 외부회선을 통해 나무위키 홈페이지가 있는 서버와 연결하여 대문 페이지를 가져온다.
5. 만약 가지고 있다면 나무위키 홈페이지가 있는 서버에게 자신이 가진 페이지가 최신 버전인지 체크.
6. 최신이 아닌 경우 새로 갱신된 가져옴. 

## 보충
- 캐시처리는 네트워크 대역폭이 좁은 경우 효과가 특히 좋다.
    - 만약 좁은 대역폭을 많은 Client가 공유한다고 생각하면 특히 더 큰 효과를 상상할 수 있다. 이 경우 고속 데이터 통신이 가능하도록 내부 캐시를 배치해서 해결한다.
    - 외부 회선은 프록시 서버가 독점한다.
- 효과가 없는 경우
    - 페이지를 반복 열람하는가? 즉 많은 사람들이 동시에 웹 서핑을 요청하면서 동시에 같은 웹 서핑 사이트에 접속하는가? 
        - 이 경우 불필요한 캐시 처리이다.
        - 인터넷 대역폭이 높은 망은 굳이 성능 향상을 위해서 프록시를 사용할 필요가 없다.

## 참고
- (위키백과, 프록시 서버) https://ko.wikipedia.org/wiki/%ED%94%84%EB%A1%9D%EC%8B%9C_%EC%84%9C%EB%B2%84
- (나무위키, 프록시 서버) https://namu.wiki/w/%ED%94%84%EB%A1%9D%EC%8B%9C%20%EC%84%9C%EB%B2%84